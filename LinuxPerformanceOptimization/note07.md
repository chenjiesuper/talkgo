本周开始综合案例的学习，在内核线程热点函数的案例中，采用了不同于之前单纯网络抓包的方式来深入定位热点，不同于普通线程，我们一开始就需要使用pstack来定位内核线程，继而使用perf和火焰图的方案来一步步定位。这里工具的使用需要我们能区分内核线程甚至应该知道大概的内核线程的分类，在大量数据时我们需要借助图形例如火焰图来排查问题。只有知道大概问题的方向并且熟悉工具才能做到事半功倍。同时perf也是一种常见的动态追踪机制，这种机制不会影响正常的程序运行，对线上影响较小。基于这种思路，我们在监控比如用prometheus监控时也可以考虑基于机器的特性安装基础探针node_exporter和服务特性安装例如具体的服务redis_exporter等的方案来动态持续监控我们的机器服务指标，建立长效的监控视图和预测性的监控告警。
