## 使用 perf 工具时，看到的是 16 进制地址而不是函数名
perf 找不到待分析进程依赖的库
在容器外面把分析纪录保存下来，再去容器里查看结果。

## 为什么 perf 的报告中，很多符号都不显示调用栈
可以执行 man perf-report 命令，找到 -g 参数的说明：
堆栈显示不全，相关的参数当然就是最小阈值 threshold。通过手册中对 threshold 的说明，我们知道，当一个事件发生比例高于这个阈值时，它的调用栈才会显示出来。

## 怎么理解 perf report 报告
关于 Children 和 Self 的含义，手册里其实有详细说明，还很友好地举了一个例子，来说明它们的百分比的计算方法。简单来说，
* Self 是最后一列的符号（可以理解为函数）本身所占比例；
* Children 是这个符号调用的其他符号（可以理解为子函数，包括直接和间接调用）占用的比例之和。

使用性能工具时，确实应该考虑工具本身对系统性能的影响。而这种情况，就需要你了解这些工具的原理。比如，
* perf 这种动态追踪工具，会给系统带来一定的性能损失。
* vmstat、pidstat 这些直接读取 proc 文件系统来获取指标的工具，不会带来性能损失。

## 性能优化书籍和参考资料推荐
《Systems Performance: Enterprise and the Cloud》。这本书也出了中文版，名字是《性能之巅：洞悉系统、企业与云计算》
关注他的个人网站 http://www.brendangregg.com/，特别是 [Linux Performance](http://www.brendangregg.com/linuxperf.html) 这个页面，包含了很多 Linux 性能优化的资料，比如：Linux 性能工具图谱 ；性能分析参考资料；性能优化的演讲视频 。

## 发现精选留言

>《深入Linux内核架构》挺不错

>"任何东西的第一遍学习有不懂的地方很正常，忍住恐惧别放弃，继续往后走，前面很多问题可能会一并解决掉 ，再看第二遍、第三遍就更轻松了。"

>"先从最基本的原理开始，掌握性能分析的思路，然后再逐步深入，探究细节"
